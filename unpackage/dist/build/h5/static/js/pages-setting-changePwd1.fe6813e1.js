(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setting-changePwd1"],{"0b4d":function(t,e,n){"use strict";var i=n("f8f0"),o=n.n(i);o.a},"76fe":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uForm:n("d04c").default,uFormItem:n("f4fa").default,uInput:n("847a").default,uGap:n("248e").default,uButton:n("5e15").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"checkPwd"},[t._v("验证当前密码")]),n("v-uni-view",{staticClass:"swiper-item pwd-login"},[n("u-form",{ref:"uForm",attrs:{model:t.model,errorType:t.form.errorType}},[n("u-form-item",{staticClass:"user-pwd-input input-user",attrs:{label:"密码",prop:"PASSWORD"}},[n("u-input",{attrs:{placeholder:"请输入登录密码",type:"password"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.pwdFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.pwdBlur.apply(void 0,arguments)}},model:{value:t.model.PASSWORD,callback:function(e){t.$set(t.model,"PASSWORD",e)},expression:"model.PASSWORD"}}),n("v-uni-view",{staticClass:"input-line",style:{width:t.pwdwidths+"%"}})],1),n("u-gap",{attrs:{height:"250"}}),n("v-uni-view",[n("u-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePwd.apply(void 0,arguments)}}},[t._v("下一步")]),n("u-gap",{attrs:{height:"40"}}),n("u-button",{staticClass:"btn",attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTo.apply(void 0,arguments)}}},[t._v("忘记密码")])],1)],1)],1)],1)},a=[]},a368:function(t,e,n){"use strict";var i=n("4ea4");n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("1da1")),a={data:function(){return{userInfo:{},cntPwd:"",token:"",username:"",current:0,userwidths:0,pwdwidths:0,rememberPwd:!1,model:{Loginname:"",PASSWORD:""},form:{errorType:["message"]},rules:{Loginname:[{required:!0,message:"请输入您的账号",trigger:["change","blur"]}],PASSWORD:[{required:!0,message:"请输入密码",trigger:["change","blur"]},{min:6,max:20,message:"密码长度在6到20个字符",trigger:["change","blur"]},{pattern:/^[0-9a-zA-Z]*$/g,transform:function(t){return String(t)},message:"密码为字母或数字",trigger:["change","blur"]}]}}},onLoad:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.token=uni.getStorageSync("token"),""==uni.getStorageSync("userInfo")&&uni.reLaunch({url:"../login/login"}),t.userInfo=uni.getStorageSync("userInfo"),t.cntPwd=uni.getStorageSync("password"),t.username=t.userInfo.username;case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this,e=uni.getStorageSync("PASSWORD");t.model.PASSWORD=e||""},methods:{userFocus:function(){this.userwidths=100},userBlur:function(){this.userwidths=0},pwdFocus:function(){this.pwdwidths=100},pwdBlur:function(){this.pwdwidths=0},cvLogin:function(){this.current=1},pwdLogin:function(){this.current=0},userpwdlogin:function(){this.current=0},onReady:function(){this.$refs.uForm.setRules(this.rules)},getPwd:function(t){var e=this;return new Promise((function(t,n){uni.request({url:"http://1.14.94.7/api/user/search/"+e.username,method:"GET",header:{Authorization:"bearer "+e.token},success:function(e){t(e.data[0].password)}})}))},changePwd:function(){var t=this;this.$refs.uForm.validate((function(e){1==e&&t.model.PASSWORD===t.cntPwd?(uni.showToast({title:"验证成功",icon:"success"}),uni.request(),setTimeout((function(){uni.navigateTo({url:"changePwd2"})}),800)):uni.showToast({title:"密码错误",icon:"none"})}))},goTo:function(){uni.navigateTo({url:"forgetPwd"})}},onReady:function(){this.$refs.uForm.setRules(this.rules)}};e.default=a},a8ce:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-d7d46d12]{background-color:#f1f1f1}uni-view[data-v-d7d46d12]{-webkit-box-sizing:border-box;box-sizing:border-box}.checkPwd[data-v-d7d46d12]{margin-top:%?30?%;font-size:%?60?%;text-align:center;font-weight:700}.top-banner[data-v-d7d46d12]{width:100%;height:%?590?%;background-color:#404bd9;border-bottom-left-radius:%?30?%;border-bottom-right-radius:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fff;font-weight:700;font-size:%?60?%;-webkit-text-decoration:dotted;text-decoration:dotted}.content-box[data-v-d7d46d12]{width:%?640?%;height:%?740?%;background-color:#fff;position:absolute;top:%?420?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?15?%}.swiper-login[data-v-d7d46d12]{width:100%;height:100%;position:relative}.pwd-login[data-v-d7d46d12]{width:100%;height:100%;padding:%?45?% %?35?%}.user-pwd-input[data-v-d7d46d12]{width:100%;height:%?80?%;\n\t/* background-color: red; */border-bottom:%?1?% solid #dedede;margin-top:%?100?%;position:relative;font-size:%?35?%}.user-pwd-input uni-input[data-v-d7d46d12]{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?20?%}.tips-user[data-v-d7d46d12]{font-size:%?24?%;color:#8c8c8c}.change-login-method[data-v-d7d46d12]{width:%?88?%;height:%?88?%;margin:%?100?% auto 0 auto;background-color:#404bd9;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-shadow:%?2?% %?2?% %?32?% %?8?% #aeaeb7;box-shadow:%?2?% %?2?% %?32?% %?8?% #aeaeb7}.change-login-method uni-image[data-v-d7d46d12]{width:80%;height:80%}.cv-login[data-v-d7d46d12]{width:100%;height:100%;padding:%?45?% %?35?%}.cv-Login[data-v-d7d46d12]{font-size:%?40?%;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.cv-login-box-tips[data-v-d7d46d12]{font-size:%?24?%}.cv-login-box[data-v-d7d46d12]{padding:0 %?30?%;color:#8c8c8c;margin-top:%?30?%}.phone-user-code[data-v-d7d46d12]{width:38%;margin-left:auto;margin-right:auto;letter-spacing:%?20?%;text-align:center}.user-pwd-input.input-user .input-line[data-v-d7d46d12]{width:100%;height:%?2?%;background-color:#00f;position:absolute;bottom:0;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);-webkit-transition:all .3s;transition:all .3s}.cv-notice[data-v-d7d46d12]{text-align:center}.face[data-v-d7d46d12]{width:100px;height:100px;position:absolute;left:35%;top:70px}.btn[data-v-d7d46d12]{font-weight:700;width:%?600?%}.btn[data-v-d7d46d12]:hover{opacity:.5}.btn[data-v-d7d46d12]:active{-webkit-box-shadow:0 2px #fff;box-shadow:0 2px #fff;-webkit-transform:translateY(2px);transform:translateY(2px)}body.?%PAGE?%[data-v-d7d46d12]{background-color:#f1f1f1}",""]),t.exports=e},e0bc:function(t,e,n){"use strict";n.r(e);var i=n("76fe"),o=n("f625");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("0b4d");var r,d=n("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"d7d46d12",null,!1,i["a"],r);e["default"]=s.exports},f625:function(t,e,n){"use strict";n.r(e);var i=n("a368"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},f8f0:function(t,e,n){var i=n("a8ce");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("88951d9e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);